{"ast":null,"code":"var _jsxFileName = \"/Users/nikitapetrov/Desktop/chat_me_app/client/src/components/Chat/Chat.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport queryString from 'query-string';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as Logo } from \"@svgr/webpack?-svgo,+titleProp,+ref!./heart.svg\";\nimport { ReactComponent as ChatLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!./chat-logo.svg\";\nimport { ReactComponent as Users } from \"@svgr/webpack?-svgo,+titleProp,+ref!./group.svg\";\nimport { ReactComponent as SendIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./send-message.svg\";\nimport './Chat.css';\n\nconst moment = require('moment'); // Setting up Socket on a Front-End\n\n\nconst io = require('socket.io-client');\n\nconst localhost = 'http://localhost:4000';\n\nconst Chat = ({\n  location\n}) => {\n  const [enteredUser, setEnteredUser] = useState('');\n  const [enteredRoom, setEnteredRoom] = useState('');\n  const [welcomeUser, setWelcomeUser] = useState('');\n  const [joinedUsers, setJoinedUsers] = useState([]); // 1\n\n  useEffect(() => {\n    const socket = io.connect(localhost);\n    const {\n      name,\n      room\n    } = queryString.parse(location.search);\n    socket.emit('newUser', {\n      name,\n      room\n    }, error => {\n      console.error('error on client');\n    });\n    socket.on('welcome', theUser => {\n      console.log('theUser', theUser);\n      setWelcomeUser([...welcomeUser, theUser]);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, [location.search]); // 2\n\n  const Welcome = props => {\n    const {\n      msg,\n      time\n    } = props.welcomeUser;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-body-chat-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, time)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, msg));\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"main-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-item flex-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Chat&Me\", /*#__PURE__*/React.createElement(Logo, {\n    className: \"logo-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 32\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: '/',\n    className: \"leave-room-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Leave Room\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-item flex-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-body-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ChatLogo, {\n    className: \"logo-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }), \"Room:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"Room1\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Users, {\n    className: \"logo-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }), \"Users:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"Paul\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Alan\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, \"Tony\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-body-chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, welcomeUser ? /*#__PURE__*/React.createElement(Welcome, {\n    welcomeUser: welcomeUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 40\n    }\n  }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-item flex-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footer-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"send-message-input\",\n    placeholder: \"Enter message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"send-message-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    className: \"send-message-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 61\n    }\n  }))))));\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/nikitapetrov/Desktop/chat_me_app/client/src/components/Chat/Chat.js"],"names":["React","useState","useEffect","useRef","queryString","Link","moment","require","io","localhost","Chat","location","enteredUser","setEnteredUser","enteredRoom","setEnteredRoom","welcomeUser","setWelcomeUser","joinedUsers","setJoinedUsers","socket","connect","name","room","parse","search","emit","error","console","on","theUser","log","disconnect","Welcome","props","msg","time"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport queryString from 'query-string';\nimport { Link } from 'react-router-dom';\nimport { ReactComponent as Logo } from './heart.svg';\nimport { ReactComponent as ChatLogo } from './chat-logo.svg';\nimport { ReactComponent as Users } from './group.svg';\nimport { ReactComponent as SendIcon } from './send-message.svg';\nimport './Chat.css';\nconst moment = require('moment');\n// Setting up Socket on a Front-End\nconst io = require('socket.io-client');\nconst localhost = 'http://localhost:4000';\n\nconst Chat = ({ location }) => {\n    const [enteredUser, setEnteredUser] = useState('');\n    const [enteredRoom, setEnteredRoom] = useState('');\n    const [welcomeUser, setWelcomeUser] = useState('');\n    const [joinedUsers, setJoinedUsers] = useState([]);\n\n    // 1\n    useEffect(() => {\n        const socket = io.connect(localhost);\n        const { name, room } = queryString.parse(location.search);\n        socket.emit('newUser', ({ name, room }), (error) => {\n            console.error('error on client');\n        });\n\n        socket.on('welcome', (theUser) => {\n            console.log('theUser', theUser)\n            setWelcomeUser([...welcomeUser, theUser])\n        });\n\n\n        return () => {\n            socket.disconnect();\n        }\n    }, [location.search])\n    // 2\n\n    const Welcome = (props) => {\n        const { msg, time } = props.welcomeUser;\n        return (\n\n            <div className=\"flex-body-chat-message\">\n                <h5><span>{time}</span></h5>\n                <p>{msg}</p>\n            </div>\n        )\n    }\n\n\n\n\n    return (\n        <main className=\"main-block\" >\n            <div className=\"flex-main\">\n                {/* flex-header */}\n                <div className=\"flex-item flex-header\">\n                    <h3>Chat&Me<Logo className=\"logo-header\" /></h3>\n                    <Link to={'/'} className=\"leave-room-button\">Leave Room</Link>\n                </div>\n                {/* flex-body */}\n                <div className=\"flex-item flex-body\">\n                    {/* flex-body-nav */}\n                    <div className=\"flex-body-nav\">\n                        <h3><ChatLogo className=\"logo-nav\" />Room:</h3>\n                        <p>Room1</p>\n                        <h3><Users className=\"logo-nav\" />Users:</h3>\n                        <p>Paul</p>\n                        <p>Alan</p>\n                        <p>Tony</p>\n                    </div>\n                    {/* flex-body-chat */}\n                    <div className=\"flex-body-chat\">\n                        {/* Welcome message */}\n                        {welcomeUser ? <Welcome welcomeUser={welcomeUser} /> : null}\n                        {/* User joined message */}\n                        {/* User left message */}\n\n                        {/* <div className=\"flex-body-chat-message\">\n                            <h5>Nick<span>Time</span></h5>\n                            <p>Hellos</p>\n                        </div> */}\n\n\n\n\n                    </div>\n                </div>\n                {/* flex-footer */}\n                <div className=\"flex-item flex-footer\">\n                    <div className=\"footer-wrapper\">\n                        <input\n                            className=\"send-message-input\"\n                            placeholder=\"Enter message\" />\n                        <button\n                            className=\"send-message-button\"><SendIcon className=\"send-message-icon\" /></button>\n\n                    </div>\n                </div>\n            </div>\n        </main >\n    )\n}\n\nexport default Chat"]},"metadata":{},"sourceType":"module"}